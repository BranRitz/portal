{% load cms_tags staticfiles sekizai_tags menu_tags pipeline %}
<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>{% block title %}{% page_attribute "page_title" %}{% endblock %} | DesignSafe-CI</title>
      <meta name="viewport" content="width=device-width">
      <meta name="description" content="{{ site.description }}">
      <link rel="icon" href="{% static 'favicon.ico' %}">
      <link rel="canonical" href="{{request.get_full_path}}">
      {% block head_extra %}{% endblock %}
      <!-- styles -->
      {% stylesheet 'vendor' %}
      {% stylesheet 'main' %}
      <link href="{% static 'styles/ng-designsafe.css' %}" rel="stylesheet">
      {% block styles %}{% endblock %}
      {% render_block "css" %}
  </head>
  <body>
    {% cms_toolbar %}

    {% include 'includes/header.html' %}
    {% include 'includes/navigation.html' %}

    {% include 'includes/messages.html' %}

    {% block breadcrumb %}{% endblock %}

    {% block content %}{% endblock %}

    {% include 'includes/footer.html' %}
    <!-- scripts -->
    {% javascript 'vendor' %}
    {% javascript 'main' %}

    <script src="{% static 'vendor/angular/angular.min.js' %}"></script>
    <script src="{% static 'vendor/angular-sanitize/angular-sanitize.min.js' %}"></script>
    <script src="{% static 'vendor/angular-toastr/dist/angular-toastr.tpls.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'djng/js/django-angular.js' %}"></script>

    <script type="text/javascript" src="{% static 'scripts/ng-modernizr/ng-modernizr.js' %}"></script>

    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/ng-designsafe.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/directives/ng-designsafe-directives.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/filters/ng-designsafe-filters.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/services/logging-service.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/modules/ws-module.js' %}"></script>
    <script type="text/javascript" src="{% static 'scripts/ng-designsafe/providers/ws-provider.js' %}"></script>

    <script type="text/javascript" src="{% static 'designsafe/apps/notifications/scripts/module.js' %}"></script>
    <script type="text/javascript" src="{% static 'designsafe/apps/notifications/scripts/provider.js' %}"></script>

    <script type="text/javascript" src="{% static 'scripts/logging/logger.js' %}"></script>

    <script type="text/javascript">
        (function(angular) {
            var initial = angular.module('django.context', []);
            initial.value('Django', {
                user: "{{ request.user }}",
                context: {{ angular_init|default:"{}"|safe }}
            });
        })(angular);
    </script>

    {% block scripts %}{% endblock %}
    {% render_block "js" %}
    {% include 'includes/analytics.html' %}
  </body>
</html>

<script> window.debug = {{debug|yesno:'true,false'}}; </script>
