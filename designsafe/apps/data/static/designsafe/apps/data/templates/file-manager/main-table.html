<table class="table mb0 table-files">
    <thead>
        <tr>
            <th>
                <a href="" ng-click="order('model.name')" ng-if="(filesystem == 'default') || (filesystem != 'default' && (fileNavigator.currentPath.length || fileNavigator.searchResults))">
                    {{"name" | translate}}
                    <span class="sortorder" ng-show="predicate[1] === 'model.name'" ng-class="{reverse:reverse}"></span>
                </a>
                <a href="" ng-click="order('model.projectTitle')" ng-if="filesystem != 'default' && !fileNavigator.currentPath.length && !fileNavigator.searchResults">
                    <span>
                        {{"Project Title" | translate}}
                    </span>
                    <span class="sortorder" ng-show="predicate[1] === 'model.projectTitle'" ng-class="{reverse:reverse}"></span>
                </a>
            </th>
            <th class="col-sm-2">
                <a href="">
                </a>
            </th>
            <th class="hidden-xs hidden-sm" ng-if="(filesystem == 'default') || (filesystem != 'default' && fileNavigator.currentPath.length || fileNavigator.searchResults)">
                <a href="" ng-click="order('model.size')">
                    {{"size" | translate}}
                    <span class="sortorder" ng-show="predicate[1] === 'model.size'" ng-class="{reverse:reverse}"></span>
                </a>
            </th>
            <th class="hidden-sm hidden-xs" ng-class="{'col-md-6': filesystem != 'default'}" >
                <a href="" ng-click="order('model.date')" ng-if="filesystem == 'default'">
                    <span>
                        {{"date" | translate}}
                    </span>
                    <span class="sortorder" ng-show="predicate[1] === 'model.date'" ng-class="{reverse:reverse}"></span>
                </a>
                <a ng-if = "filesystem != 'default' && fileNavigator.currentPath.length == 1">
                    <span>
                        {{"Title" | translate}}
                    </span>
                </a>
                <a ng-if = "filesystem != 'default' && fileNavigator.currentPath.length == 0"  ng-click="order('model.projectName')" href="">
                    <span>
                        {{"Project ID" | translate}}
                    </span>
                    <span class="sortorder" ng-show="predicate[1] === 'model.projectName'" ng-class="{reverse:reverse}"></span>
                </a>
            </th>
            <!-- <th class="hidden-sm hidden-xs">
                <a href="" ng-click="order('model.permissions')">
                    {{"permissions" | translate}}
                    <span class="sortorder" ng-show="predicate[1] === 'model.permissions'" ng-class="{reverse:reverse}"></span>
                </a>
            </th> -->
        </tr>
    </thead>
    <tbody class="file-item">
        <tr ng-show="fileNavigator.requesting">
            <td colspan="5">
                <div ng-include="config.tplPath + '/spinner.html'"></div>
            </td>
        </tr>
        <tr ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">
            <td colspan="5">
                {{"no_files_in_folder" | translate}}...
            </td>
        </tr>
        <tr ng-show="!fileNavigator.requesting && fileNavigator.error">
            <td colspan="5">
                {{ fileNavigator.error }}
                <a href="/help">Submit a ticket</a> if the error persist. Thank you.
            </td>
        </tr>
        <!-- <tr ng-repeat="item in fileNavigator.fileList | filter: query | orderBy:predicate:reverse" ng-show="!fileNavigator.requesting> -->
        <!-- <tr ng-repeat="item in fileNavigator.fileList | orderBy:predicate:reverse" ng-show="!fileNavigator.requesting && item.model.name !== '.'"> -->
          <tr ng-repeat="item in fileNavigator.fileList | orderBy:predicate:reverse" ng-if="!fileNavigator.requesting && item.model.name !== '.' && !item.model.root">
            <td >
                <a fm-draggable data-agave-href = "{{item.model.agavePath}}"
                   href="{{item.model.fullPath()}}" ng-click="smartClick(item, $event)"
                   title="{{item.model.name}} ({{item.model.sizeKb()}}kb)" ng-class="{'file-folder-project': item.model.projectTitle,'file-folder-experiment': item.model.experimentTitle}" class="file-folder">
                    <i class="glyphicon glyphicon-folder-close"
                        ng-show="!item.model.projectTitle && !item.model.experimentTitle && item.model.type === 'dir'"></i>
                    <i class="glyphicon glyphicon-briefcase"
                        ng-show="item.model.projectTitle && item.model.type === 'dir'"></i>
                    <i class="glyphicon glyphicon-folder-close"
                        ng-show="item.model.experimentTitle && item.model.type === 'dir'"></i>
                    <i class="glyphicon glyphicon-file" ng-show="item.model.type !== 'dir'"></i>
                    <span ng-if = "!fileNavigator.searchResults && !item.model.projectTitle && !item.model.experimentTitle">
                    {{item.model.name | strLimit : 120}}
                    </span>
                    <span ng-if = "!fileNavigator.searchResults && item.model.projectTitle && !item.model.experimentTitle" clas="project-title">
                    {{item.model.projectTitle}}
                    </span>
                    <span ng-if = "!fileNavigator.searchResults && !item.model.projectTitle && item.model.experimentTitle" clas="experiment-title">
                    {{item.model.name}}
                    </span>
                    <span ng-if = "fileNavigator.searchResults && !item.model.projectTitle">
                    {{item.model.fullPath() | strLimit : 120}}
                    </span>
                    <span ng-if = "fileNavigator.searchResults && item.model.projectTitle">
                    {{item.model.projectTitle}}
                    </span>
                </a>
                <!--
                <a href = "#" ng-if="filesystem != 'default' && !fileNavigator.currentPath.length && !fileNavigator.searchResults" ng-click="smartClick(item, $event)" title="{{item.model.projectTitle}}">
                    {{item.model.projectTitle | translate}}
                </a>
                -->
                <span ng-show="item.downloading" class="label label-warning">
                    {{"Downloading" | translate}}...
                </span>
            </td>
            <td class="col-sm-2">
                  <div ng-include="config.tplPath + '/item-toolbar.html'"></div>
            </td>
            <td class="hidden-sm hidden-xs" ng-if="(filesystem == 'default') || (filesystem != 'default' && fileNavigator.currentPath.length || fileNavigator.searchResults)">
                {{item.model.sizeKb()}}kb
            </td>
             <td class="hidden-sm hidden-xs" ng-class="{'col-md-6': filesystem != 'default'}">
                <!-- {{item.model.date | formatDate }} -->
                <span ng-if="filesystem == 'default'">
                    {{item.model.date}}
                </span>
                <span ng-if="filesystem != 'default' && fileNavigator.currentPath.length == 1">
                    {{item.model.experimentTitle}}
                </span>
                <span ng-if="filesystem != 'default' && item.model.projectTitle">
                    {{item.model.projectName}}
                </span>
                <!--
                <span ng-if="filesystem != 'default' && (fileNavigator.currentPath.length || fileNavigator.searchResults)">
                    {{item.model.projectTitle | translate}}
                </span>
                -->

            </td>
            <!-- <td class="hidden-sm hidden-xs">
                {{item.model.perms.toCode(item.model.type === 'dir'?'d':'-')}}
            </td> -->
        </tr>
    </tbody>
</table>
